#[macro_use]
extern crate phoebe;

#[test]
fn addition() {
    test_pairs! {
        "(+)" => "0";
        "(+ 1 1)" => "2";
        "(+ 1 2 3 4)" => "10";
        "(+ 2 (+ 2 2))" => "6";
        "(+ .5 1)" => "1.5";
        "(+ 0.1 0.2 0.3 0.4)" => "1";
    }
}

#[test]
fn subtraction() {
    test_pairs! {
        "(- 6)" => "-6";
        "(- 1 1)" => "0";
        "(- 1 2)" => "-1";
        "(- 5 1 1)" => "3";
        "(- 1 .5)" => "0.5";
        "(- 8.4 1.2 3.75)" => "3.45";
    }
}

#[test]
fn division() {
    test_pairs! {
        "(/ 5)" => "0.2";
        "(/ .2)" => "5";
        "(/ 20 2 2)" => "5";
        "(/ 10 2 2)" => "2.5";
        "(/ .5 .5)" => "1";
        "(/ 12.2 4.4)" => "2.7727272727272725";
    }
}

#[test]
fn multiplication() {
    test_pairs! {
        "(*)" => "1";
        "(* 10 .5)" => "5";
        "(* 2 3 4)" => "24";
        "(* (+ 1 1) (+ 2 2))" => "8";
        "(* 1.8 2)" => "3.6";
    }
}
